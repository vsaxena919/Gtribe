jQuery(function(r){r(".rtcl-credit-card-number").payment("formatCardNumber"),r(".rtcl-credit-card-expiry").payment("formatCardExpiry"),r(".rtcl-credit-card-cvc").payment("formatCardCVC"),r(document.body).on("rtcl-credit-card-form-init",function(){r(".rtcl-credit-card-number").payment("formatCardNumber"),r(".rtcl-credit-card-expiry").payment("formatCardExpiry"),r(".rtcl-credit-card-cvc").payment("formatCardCVC")}).trigger("rtcl-credit-card-form-init"),r.fn.validate&&(r.validator.addMethod("RtclCardNumber",function(r,t,a){if(console.log(a),r=r.replace(/\D/g,""),/[^0-9-]+/.test(r))return!1;var e=0;return a.mastercard&&(e|=1),a.visa&&(e|=2),a.amex&&(e|=4),a.dinersclub&&(e|=8),a.enroute&&(e|=16),a.discover&&(e|=32),a.jcb&&(e|=64),a.unknown&&(e|=128),a.all&&(e=255),1&e&&/^(5[12345])/.test(r)?16==r.length:2&e&&/^(4)/.test(r)?16==r.length:4&e&&/^(3[47])/.test(r)?15==r.length:8&e&&/^(3(0[012345]|[68]))/.test(r)?14==r.length:16&e&&/^(2(014|149))/.test(r)?15==r.length:32&e&&/^(6011)/.test(r)?16==r.length:64&e&&/^(3)/.test(r)?16==r.length:64&e&&/^(2131|1800)/.test(r)?15==r.length:!!(128&e)},rtcl_validator.messages.cc.number),r.validator.addMethod("RtclCardCVC",function(t,a,e){return!!r.payment.validateCardCVC(r.trim(t))},rtcl_validator.messages.cc.cvc),r.validator.addMethod("RtclCardExpiry",function(t,a,e){var d=r(a).payment("cardExpiryVal");return!!r.payment.validateCardExpiry(d.month,d.year)},rtcl_validator.messages.cc.expiry),r.validator.addClassRules("rtcl-credit-card-number",{required:!0,RtclCardNumber:{param:{all:!0}}}),r.validator.addClassRules("rtcl-credit-card-cvc",{required:!0,RtclCardCVC:!0}),r.validator.addClassRules("rtcl-credit-card-expiry",{required:!0,RtclCardExpiry:!0}))});
