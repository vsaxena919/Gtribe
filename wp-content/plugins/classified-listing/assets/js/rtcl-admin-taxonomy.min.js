!function(e){e("#rtcl-categories-upload-image").on("click",function(t){var r,i;t.preventDefault(),void 0===r?((r=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:!1})).on("insert",function(){if(i=r.state().get("selection").first().toJSON(),!(0>e.trim(i.url.length))){var t=void 0===i.sizes.thumbnail?i.url:i.sizes.thumbnail.url;e("#rtcl-category-image-id").val(i.id),e("#rtcl-categories-image-wrapper").html('<img src="'+t+'" />')}}),r.open()):r.open()}),e("#rtcl-categories-remove-image").on("click",function(t){t.preventDefault(),confirm("Are you sure to delete?")&&(e("#rtcl-category-image-id").val(""),e("#rtcl-categories-image-wrapper").html(""))}),e(document).ajaxComplete(function(t,r,i){if(e("#tag-rtcl-order").length){var c=i.data.split("&");if(-1!==e.inArray("action=add-tag",c)){var a=r.responseXML;""!=e(a).find("term_id").text()&&(e("#tag-rtcl-order").val(0),e("#rtcl-category-image-id").val(""),e("#rtcl-category-types input:checkbox").attr("checked",!1),e("#rtcl-category-types input:checkbox[value=sell]").attr("checked",!0),e("#rtcl-categories-image-wrapper").html(""),e("#tag-rtcl-icon").prop("selectedIndex",0))}}}),e(function(){if(e.fn.select2){var t=function(t){var r=t.element;return'<i class="rtcl-icon rtcl-icon-'+e(r).data("icon")+'"></i> '+t.text};e(".rtcl-select2").select2({dropdownAutoWidth:!0,width:"100%"}),e(".rtcl-select2-icon").select2({dropdownAutoWidth:!0,width:"100%",templateSelection:t,templateResult:t,escapeMarkup:function(e){return e}})}})}(jQuery);
