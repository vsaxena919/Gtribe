!function(s){"use strict";s(document).ready(function(){s(document).on("click","#yz-add-ad",function(e){e.preventDefault();var t=s("#yz-ads-form"),a=s.yz_getAddData(t,"yz_ad"),d={selector:s(".yz-ad-title"),AD_banner:a.banner,AD_title:a.title,AD_type:a.type,AD_code:a.code,AD_url:a.url};if(!s.validate_ad_data(d))return!1;var n="yz_ads[yz_ad_"+yz_nextAD+"]",i="adsense"==a.type?"yz_show_icon":"yz_hide_icon",l="banner"==a.type?"style='background-image: url( "+a.banner+" );'":"";s("#yz_ads").prepend('<li class="yz-ad-item" data-ad-name="yz_ad_'+yz_nextAD+'"><div class="yz-ad-img '+i+'" '+l+'><i class="fas fa-code"></i></div><div class="yz-ad-data"><h2 class="yz-ad-title">'+a.title+'</h2><div class="yz-ad-actions"><a class="yz-edit-item yz-edit-ad"></a><a class="yz-delete-item yz-delete-ad"></a></div></div><input type="hidden" name="'+n+'[title]" value="'+a.title+'"><input type="hidden" name="'+n+'[is_sponsored]" value="'+a.is_sponsored+'"><input type="hidden" name="'+n+'[url]" value="'+a.url+'"><input type="hidden" name="'+n+'[type]" value="'+a.type+'"><input type="hidden" name="'+n+'[code]" value="'+encodeURIComponent(a.code)+'"><input type="hidden" name="'+n+'[banner]" value="'+a.banner+'"></li>'),s.yz_HideModal(t),yz_nextAD++}),s(".yz-edit-ad").live("click",function(){var e=s(this).closest(".yz-ad-item");s.yz_EditForm({item:e,form_title:Yz_Ads.update_ad,button_id:"yz-update-ad",form:s("#yz-ads-form")}),s.enable_live_preview()}),s("#yz-update-ad").live("click",function(e){e.preventDefault();var t=s("#yz-ads-form"),a=s.yz_getItemObject(t),d=s.yz_getNewData(t,"keyToVal"),n={old_title:a.find(".yz-ad-title").text(),selector:s(".yz-ad-title"),AD_banner:d.banner,AD_title:d.title,AD_code:d.code,AD_type:d.type,AD_url:d.url};if(!s.validate_ad_data(n))return!1;s.yz_updateFieldsData(t)}),s("input[name=yz_ad_type]").live("change",function(){var e=".yz-adcode-item",t=".yz-adbanner-items",a=s(this).closest(".yz-ads-form");"adsense"==this.value?a.find(t).fadeToggle(400,function(){a.find(e).fadeToggle(400)}):a.find(e).fadeToggle(400,function(){a.find(t).fadeToggle(400)})}),s.validate_ad_data=function(e){var t=s.extend({},e),a=s.yz_isAlreadyExist({selector:t.selector,value:t.AD_title,old_title:t.old_title,type:"text"});if(!t.AD_title||a)return s.ShowPanelMessage({msg:Yz_Ads.empty_ad,type:"error"}),!1;if("banner"==t.AD_type){if(!function(e){if(!e)return s.ShowPanelMessage({msg:Yz_Ads.empty_banner,type:"error"}),!1;if(!s.yz_isImgExist(e,"banner"))return!1;return!0}(t.AD_banner))return!1}else if("adsense"==t.AD_type&&(null==t.AD_code||""==s.trim(t.AD_code)))return s.ShowPanelMessage({msg:Yz_Ads.code_empty,type:"error"}),!1;return!0},s(document).on("click",".yz-delete-ad",function(){s(this).closest("li").remove(),s(".yz-ad-item")[0]||s("#yz_ads").append('<p class="yz-no-content yz-no-ads">'+Yz_Ads.no_ads+"</p>")})})}(jQuery);